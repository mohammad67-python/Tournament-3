<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>Ù‚Ø±Ø¹Ù‡â€ŒÚ©Ø´ÛŒ Ù¾ÛŒÙ†Ú¯â€ŒÙ¾Ù†Ú¯</title>
  <style>
    body {
      font-family: sans-serif;
      direction: rtl;
      text-align: center;
      background-color: #f0f0f0;
    }
    .round {
      display: flex;
      justify-content: center;
      margin: 20px 0;
    }
    .match {
      background: white;
      padding: 10px;
      margin: 10px;
      border-radius: 10px;
      box-shadow: 0 0 5px gray;
      cursor: pointer;
    }
    .winner {
      background: #4caf50;
      color: white;
    }
  </style>
</head>
<body>
  <h2>Ø¬Ø§Ù… Ù¾ÛŒÙ†Ú¯â€ŒÙ¾Ù†Ú¯ Ø´ÛŒÙØª C</h2>
  <div id="tournament">
    <div class="round" id="round1"></div>
    <div class="round" id="round2"></div>
    <div class="round" id="final"></div>
  </div>

  <script>
    const players = ["ØµØ§Ù„Ø­", "Ù†Ø§ØµØ±", "Ø­Ù…ÛŒØ¯", "Ù…Ø¬ÛŒØ¯", "Ù…Ø­Ù…Ø¯", "Ø§Ù…ÛŒÙ†", "ÙØ±Ø²Ø§Ø¯", "Ø­Ø³ÛŒÙ†"];
    let shuffled = players.sort(() => 0.5 - Math.random());

    let round1 = document.getElementById("round1");
    let round2 = document.getElementById("round2");
    let final = document.getElementById("final");

    function createMatch(name1, name2, nextRound, nextList) {
      let match = document.createElement("div");
      match.className = "match";
      match.innerHTML = `${name1} <br> VS <br> ${name2}`;
      match.addEventListener("click", () => {
        let winner = confirm(`${name1} Ø¨Ø±Ø¯Ù‡ØŸ Ø§Ú¯Ø± Ù†Ù‡ØŒ ${name2} Ø¨Ø±Ù†Ø¯Ù‡ Ù…ÛŒØ´Ù‡`);
        let winName = winner ? name1 : name2;
        match.classList.add("winner");
        match.innerHTML = `âœ… ${winName}`;
        if (nextRound && nextList.length < 4) {
          nextList.push(winName);
          if (nextList.length % 2 === 0) {
            createMatch(nextList[nextList.length - 2], nextList[nextList.length - 1], nextRound, []);
          }
        } else if (!nextRound && nextList.length < 2) {
          nextList.push(winName);
          final.innerHTML = `<div class="match winner">ğŸ† Ù‚Ù‡Ø±Ù…Ø§Ù†: ${winName}</div>`;
        }
      });
      nextRound.appendChild(match);
    }

    let winnersR2 = [], winnersFinal = [];

    for (let i = 0; i < shuffled.length; i += 2) {
      createMatch(shuffled[i], shuffled[i + 1], round2, winnersR2);
    }
  </script>
</body>
</html>
